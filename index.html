<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lexique SVT Collège - Spécial Brevet</title>
    <style>
        :root {
            --dark: #273c75;
            --bg: #f1f2f6;
            --accent: #44bd32;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg); margin: 0; padding: 10px;
            display: flex; flex-direction: column; align-items: center;
            user-select: none; -webkit-tap-highlight-color: transparent;
        }

        h1 { margin: 10px 0; font-size: 1.2rem; color: var(--dark); text-align: center; text-transform: uppercase; letter-spacing: 1px; }

        #level-selector { display: flex; gap: 10px; margin-bottom: 15px; width: 100%; max-width: 600px; }
        .lvl-btn {
            flex: 1; padding: 12px 5px; border: 2px solid var(--dark); background: white;
            border-radius: 12px; cursor: pointer; font-weight: bold; color: var(--dark);
            font-size: 0.9rem; transition: all 0.2s;
        }
        .lvl-btn.active { background: var(--dark); color: white; transform: scale(1.05); }

        #theme-menu {
            display: grid; grid-template-columns: 1fr; gap: 8px;
            width: 100%; max-width: 800px; margin-bottom: 15px;
        }
        @media (min-width: 600px) { #theme-menu { grid-template-columns: 1fr 1fr; } }

        .nav-btn {
            padding: 12px 15px; border: none; border-radius: 10px;
            color: white; font-weight: 600; cursor: pointer;
            font-size: 0.85rem; line-height: 1.3; box-shadow: 0 4px 0 rgba(0,0,0,0.1);
            display: flex; align-items: center; justify-content: center; text-align: center;
            min-height: 60px;
        }
        .active-theme { outline: 3px solid var(--dark); outline-offset: 2px; position: relative; z-index: 10; }

        #display-panel {
            width: 95%; max-width: 800px; min-height: 120px;
            background: var(--dark); color: white; padding: 20px;
            border-radius: 20px; display: flex; align-items: center; justify-content: center;
            text-align: center; font-size: 1.1rem; margin-bottom: 20px;
            border-bottom: 6px solid #bdc3c7; line-height: 1.5; box-sizing: border-box;
        }

        #words-area {
            display: flex; flex-wrap: wrap; gap: 8px; justify-content: center;
            max-width: 1000px; margin-bottom: 30px;
        }
        .word {
            padding: 8px 14px; border-radius: 20px; font-size: 0.8rem;
            font-weight: 600; background: white; border: 1px solid #dcdde1; 
            cursor: pointer; color: var(--dark); transition: background 0.2s, transform 0.1s;
        }
        .word:active { background: #dcdde1; transform: scale(0.95); }

        #quiz-section {
            background: white; width: 95%; max-width: 500px; padding: 20px;
            border-radius: 20px; border: 3px solid var(--dark); text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05); margin-bottom: 40px;
        }
        .stats { display: flex; justify-content: space-between; font-weight: bold; margin-bottom: 15px; color: var(--dark); }
        #quiz-definition { font-style: italic; color: #555; min-height: 60px; margin-bottom: 15px; font-size: 1rem; }
        #quiz-input {
            padding: 12px; font-size: 16px; border: 2px solid #bdc3c7; border-radius: 10px; width: 85%;
            outline: none; text-align: center;
        }
        #quiz-input.correct { background-color: #d4edda; border-color: #27ae60; color: #155724; }
        .btn-action {
            margin-top: 15px; padding: 12px 25px; background: var(--dark); color: white;
            border: none; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 1rem;
        }
    </style>
</head>
<body>

    <h1>Lexique SVT Collège</h1>

    <div id="level-selector">
        <button class="lvl-btn" onclick="switchLevel('cycle3')">6ème (Cycle 3)</button>
        <button class="lvl-btn" onclick="switchLevel('cycle4')">Cycle 4 (5e - 4e - 3e)</button>
    </div>

    <div id="theme-menu"></div>
    <div id="display-panel">Sélectionne un niveau pour commencer.</div>
    <div id="words-area"></div>

    <section id="quiz-section">
        <div class="stats">
            <span id="timer-ui">   60s</span>
            <span id="score-ui">   0</span>
        </div>
        <div id="quiz-definition">Prêt pour l'entraînement ?</div>
        <input type="text" id="quiz-input" placeholder="Écris le mot ici..." disabled autocomplete="off" spellcheck="false">
        <br>
        <button class="btn-action" id="start-btn" onclick="startGame()">DÉMARRER LE QUIZ</button>
    </section>

<script>
    const FULL_DB = {
        'cycle3': {
            colors: ['#44bd32'],
            themes: [
                { title: "Bases de la SVT (6ème)", data: [
                    ["Cellule", "Unité de base de tous les êtres vivants."],
                    ["Unicellulaire", "Être vivant formé d'une seule cellule."],
                    ["Pluricellulaire", "Être vivant formé de plusieurs cellules."],
                    ["Biodiversité", "Diversité des espèces vivantes dans un milieu."],
                    ["Espèce", "Êtres vivants qui se ressemblent et peuvent se reproduire."],
                    ["Matière organique", "Matière produite par les êtres vivants."],
                    ["Matière minérale", "Matière non vivante (eau, roche, air)."],
                    ["Décomposeur", "Organisme qui transforme la matière organique en minérale."],
                    ["Reproduction", "Fonction permettant d'avoir une descendance."],
                    ["Ovule", "Cellule reproductrice femelle."],
                    ["Spermatozoïde", "Cellule reproductrice mâle."],
                    ["Fécondation", "Union d'un ovule et d'un spermatozoïde."],
                    ["Développement", "Ensemble des transformations de la naissance à l'âge adulte."],
                    ["Métamorphose", "Transformation brutale de la larve en adulte."],
                    ["Graine", "Partie de la plante permettant sa reproduction."],
                    ["Germination", "Début du développement d'une graine."],
                    ["Besoin nutritif", "Ce dont un être vivant a besoin pour grandir."],
                    ["Planète Terre", "Seule planète connue abritant la vie."],
                    ["Système solaire", "Ensemble des planètes tournant autour du Soleil."],
                    ["Paysage", "Vue d'ensemble d'une portion de territoire."],
                    ["Érosion", "Usure des roches par l'eau et le vent."],
                    ["Microscope", "Instrument pour observer le très petit."],
                    ["Loupe", "Instrument pour grossir une observation."]
                ]}
            ]
        },
        'cycle4': {
            colors: ['#e1b12c', '#4cd137', '#e84118', '#2f3542'],
            themes: [
                { title: "T1 : Terre et Environnement", data: [
                    ["Séisme", "Tremblement de terre causé par la rupture brutale des roches en profondeur."], ["Épicentre", "Point de la surface terrestre où le séisme est le plus intense."], ["Foyer", "Lieu en profondeur où débute la rupture des roches à l'origine du séisme."], ["Magnitude", "Mesure de l'énergie libérée par un séisme (Échelle de Richter)."], ["Sismogramme", "Enregistrement des ondes sismiques réalisé par un sismographe."], ["Volcanisme", "Arrivée de magma en surface formant des édifices volcaniques."], ["Magma", "Roche fondue située en profondeur, contenant du gaz."], ["Lave", "Magma débarrassé de son gaz qui coule à la surface."], ["Chambre magmatique", "Réservoir de magma situé à plusieurs kilomètres de profondeur."], ["Lithosphère", "Couche rigide de la Terre formée de la croûte et du manteau supérieur."], ["Asthénosphère", "Couche moins rigide du manteau située sous la lithosphère."], ["Tectonique des plaques", "Théorie décrivant les mouvements des plaques lithosphériques."], ["Dorsale", "Chaîne de montagnes sous-marine, zone d'écartement des plaques."], ["Subduction", "Enfouissement d'une plaque océanique sous une autre plaque."], ["Collision", "Rencontre entre deux plaques continentales formant des montagnes."], ["Accrétion", "Formation de nouvelle croûte océanique au niveau des dorsales."], ["Fosse océanique", "Dépression profonde et allongée, zone de subduction."], ["Risque", "Possibilité qu'un aléa (danger naturel) touche des enjeux (humains)."], ["Aléa", "Probabilité qu'un phénomène naturel dangereux survienne."], ["Enjeu", "Personnes ou biens susceptibles d'être touchés par un aléa."], ["Météorologie", "Étude du temps qu'il fait à court terme (température, vent)."], ["Climat", "Moyenne des conditions météorologiques sur une longue période (30 ans)."], ["Effet de serre", "Phénomène naturel retenant la chaleur solaire sur Terre."], ["Atmosphère", "Couche de gaz entourant la Terre."], ["Hydrosphère", "Ensemble de l'eau présente sur Terre (liquide, solide, gaz)."], ["Érosion", "Usure et transport des roches par l'eau, le vent ou la glace."], ["Sédimentation", "Dépôt de particules transportées (sédiments) au fond de l'eau."], ["Fossile", "Reste ou trace d'être vivant conservé dans une roche sédimentaire."], ["Affleurement", "Endroit où les roches du sous-sol sont visibles en surface."], ["Ressource renouvelable", "Ressource qui se régénère à l'échelle humaine (vent, soleil, bois)."], ["Énergie fossile", "Énergie non renouvelable issue de la transformation de matière organique (pétrole)."], ["Nappe phréatique", "Réserve d'eau souterraine contenue dans les roches."], ["Écosystème", "Ensemble formé par un milieu de vie et les êtres vivants qui y habitent."], ["Biodiversité", "Diversité des êtres vivants (espèces, gènes, écosystèmes)."], ["Développement durable", "Développement répondant aux besoins actuels sans compromettre l'avenir."], ["Pollution", "Dégradation de l'environnement par des substances nocives."], ["Recyclage", "Traitement des déchets pour produire de nouveaux matériaux."], ["Courant marin", "Déplacement d'eau de mer régulier, continu et cyclique."], ["Pression atmosphérique", "Poids de l'air, mesuré en Pascal ou en Bar."], ["Anticyclone", "Zone de haute pression atmosphérique (souvent synonyme de beau temps)."], ["Dépression", "Zone de basse pression atmosphérique (souvent synonyme de mauvais temps)."], ["Précipitations", "Eau qui tombe des nuages (pluie, neige, grêle)."], ["Anémomètre", "Instrument servant à mesurer la vitesse du vent."], ["Réchauffement climatique", "Augmentation globale des températures due aux activités humaines."], ["Glacier", "Masse de glace persistante formée par l'accumulation de neige."], ["Cycle de l'eau", "Circulation perpétuelle de l'eau entre les différents réservoirs terrestres."], ["Perméabilité", "Capacité d'une roche à laisser passer l'eau."], ["Argile", "Roche sédimentaire imperméable."], ["Calcaire", "Roche sédimentaire souvent riche en fossiles."], ["Biomasse", "Masse totale des êtres vivants dans un écosystème."]
                ]},
                { title: "T2 : Le Vivant et son évolution", data: [
                    ["Cellule", "Unité microscopique structurelle et fonctionnelle de tout être vivant."], ["Membrane", "Enveloppe qui délimite la cellule."], ["Cytoplasme", "Gelée interne de la cellule contenant les organites."], ["Noyau", "Partie de la cellule contenant l'information génétique (ADN)."], ["Unicellulaire", "Être vivant constitué d'une seule cellule."], ["Pluricellulaire", "Être vivant constitué de plusieurs cellules."], ["Espèce", "Groupe d'êtres vivants se ressemblant et pouvant se reproduire entre eux."], ["Évolution", "Transformation des espèces au cours du temps (générations)."], ["Sélection naturelle", "Avantage reproductif des individus les mieux adaptés à leur milieu."], ["Ancêtre commun", "Organisme hypothétique dont descendent plusieurs espèces actuelles."], ["Arbre de parenté", "Schéma montrant les liens de parenté entre les espèces (phylogénie)."], ["Caractère", "Trait physique ou physiologique d'un individu (ex : couleur des yeux)."], ["Héréditaire", "Qui se transmet des parents aux descendants."], ["ADN", "Molécule en forme de double hélice portant l'information génétique."], ["Chromosome", "Filament d'ADN visible lors de la division cellulaire."], ["Gène", "Portion d'ADN portant l'information d'un caractère précis."], ["Allèle", "Version possible d'un gène (ex : allèle bleu ou marron)."], ["Caryotype", "Classement ordonné des chromosomes d'une cellule."], ["Génotype", "Ensemble des allèles d'un individu."], ["Phénotype", "Ensemble des caractères observables d'un individu."], ["Mutation", "Modification accidentelle de la séquence d'ADN."], ["Mitose", "Division cellulaire conforme (2 cellules identiques)."], ["Méiose", "Division cellulaire produisant les gamètes (réduction du nombre de chromosomes)."], ["Gamète", "Cellule reproductrice (spermatozoïde ou ovule)."], ["Fécondation", "Fusion d'un spermatozoïde et d'un ovule."], ["Cellule-œuf", "Première cellule d'un nouvel individu après fécondation."], ["Reproduction sexuée", "Reproduction nécessitant deux parents et des gamètes."], ["Reproduction asexuée", "Reproduction sans gamètes (bouturage, division)."], ["Puberté", "Période de transition de l'enfance à l'âge adulte (capacité reproductrice)."], ["Hormone", "Messager chimique transporté par le sang."], ["Ovaire", "Organe producteur des ovules et d'hormones féminines."], ["Testicule", "Organe producteur des spermatozoïdes et de testostérone."], ["Contraception", "Méthodes temporaires pour éviter une grossesse."], ["Placenta", "Organe d'échanges entre la mère et le fœtus."], ["Photosynthèse", "Production de matière organique par les plantes à la lumière."], ["Chlorophylle", "Pigment vert des plantes captant l'énergie lumineuse."], ["Stomate", "Orifice sur les feuilles permettant les échanges gazeux."], ["Sève brute", "Eau et sels minéraux montant des racines."], ["Sève élaborée", "Eau et matière organique (sucre) circulant dans la plante."], ["Symbiose", "Association durable et bénéfique entre deux êtres vivants."], ["Mycorhize", "Symbiose entre un champignon et les racines d'une plante."], ["Matière organique", "Matière produite par les vivants (riche en carbone)."], ["Matière minérale", "Matière inerte (eau, roches, sels minéraux)."], ["Décomposeur", "Organisme qui transforme la matière organique en matière minérale."], ["Réseau trophique", "Ensemble des chaînes alimentaires reliées entre elles."], ["Producteur primaire", "Végétal chlorophyllien premier maillon de la chaîne alimentaire."], ["Crise biologique", "Extinction massive d'espèces sur une courte période géologique."], ["Trilobite", "Arthropode marin fossile fréquent dans l'ère Primaire."], ["Ammonite", "Mollusque fossile à coquille enroulée fréquent dans l'ère Secondaire."], ["OGM", "Organisme Génétiquement Modifié."]
                ]},
                { title: "T3 : Le Corps Humain et Santé", data: [
                    ["Nutriment", "Élément soluble issu de la digestion des aliments."], ["Enzyme", "Substance chimique accélérant la digestion (coupe les molécules)."], ["Digestion", "Transformation des aliments en nutriments."], ["Absorption", "Passage des nutriments de l'intestin vers le sang."], ["Intestin grêle", "Lieu principal de la digestion et de l'absorption."], ["Microbiote", "Ensemble des micro-organismes vivant dans notre corps (bactéries)."], ["Villosité", "Repli microscopique de l'intestin augmentant la surface d'absorption."], ["Respiration", "Échanges gazeux (O2 / CO2) pour produire de l'énergie."], ["Alvéole pulmonaire", "Petit sac d'air où se font les échanges gazeux avec le sang."], ["Ventilation", "Mouvements respiratoires (inspiration/expiration)."], ["Cœur", "Muscle creux propulsant le sang dans l'organisme."], ["Artère", "Vaisseau sanguin qui part du cœur (haute pression)."], ["Veine", "Vaisseau sanguin qui revient au cœur (basse pression)."], ["Capillaire", "Vaisseau très fin lieu des échanges avec les organes."], ["Plasma", "Partie liquide du sang transportant nutriments et déchets."], ["Hématie", "Globule rouge transportant le dioxygène."], ["Leucocyte", "Globule blanc défendant l'organisme."], ["Système nerveux", "Ensemble des nerfs et centres nerveux gérant les informations."], ["Neurone", "Cellule spécialisée du système nerveux."], ["Synapse", "Zone de connexion chimique entre deux neurones."], ["Neurotransmetteur", "Messager chimique traversant la synapse."], ["Nerf", "Câble formé de fibres nerveuses reliant les organes aux centres nerveux."], ["Cerveau", "Centre nerveux principal situé dans le crâne."], ["Récepteur sensoriel", "Organe captant une stimulation (œil, oreille, peau...)."], ["Aire cérébrale", "Zone du cerveau spécialisée dans une fonction précise."], ["Micro-organisme", "Être vivant invisible à l'œil nu (microbe)."], ["Pathogène", "Qui peut provoquer une maladie."], ["Bactérie", "Micro-organisme unicellulaire sans noyau (procaryote)."], ["Virus", "Particule infectieuse nécessitant une cellule pour se multiplier."], ["Contamination", "Pénétration des micro-organismes dans le corps."], ["Infection", "Multiplication des micro-organismes dans le corps."], ["Asepsie", "Méthode préventive pour éviter tout contact avec des microbes (stérile)."], ["Antisepsie", "Méthode pour détruire les microbes sur une plaie (désinfectant)."], ["Système immunitaire", "Ensemble des défenses de l'organisme."], ["Phagocytose", "Digestion rapide des microbes par certains leucocytes."], ["Antigène", "Molécule étrangère déclenchant une réaction immunitaire."], ["Anticorps", "Molécule en Y produite pour neutraliser un antigène précis."], ["Lymphocyte B", "Leucocyte producteur d'anticorps."], ["Lymphocyte T", "Leucocyte destructeur de cellules infectées (baiser de la mort)."], ["Mémoire immunitaire", "Capacité du corps à réagir plus vite lors d'un second contact."], ["Vaccination", "Injection d'antigènes inoffensifs pour créer une mémoire immunitaire."], ["Antibiotique", "Médicament tuant les bactéries (inefficace sur les virus)."], ["Dopage", "Utilisation de substances interdites pour améliorer les performances."], ["Addiction", "Dépendance nocive à une substance ou une activité."], ["Bruit", "Son fort ou prolongé pouvant endommager l'oreille."], ["Système cardiovasculaire", "Ensemble cœur et vaisseaux sanguins."], ["Glucide", "Sucre, principale source d'énergie rapide."], ["Lipide", "Gras, source d'énergie de réserve et constituant cellulaire."], ["Protéine", "Molécule bâtisseuse des muscles et tissus."], ["IMC", "Indice de Masse Corporelle (poids / taille²)."]
                ]},
                { title: "   MODE BREVET (Tout mélangé)", data: [] }
            ]
        }
    };

    let currentThemeData = [];
    let gameActive = false;
    let timerInterval, score = 0, timeLeft = 60, currentTarget = "";

    function switchLevel(lvl) {
        document.querySelectorAll('.lvl-btn').forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');
        const menu = document.getElementById('theme-menu');
        menu.innerHTML = "";
        
        FULL_DB[lvl].themes.forEach((t, idx) => {
            const btn = document.createElement('button');
            btn.className = 'nav-btn';
            btn.style.backgroundColor = FULL_DB[lvl].colors[idx] || '#2c3e50';
            btn.innerHTML = t.title;
            btn.onclick = (e) => loadTheme(t, e.target, lvl);
            menu.appendChild(btn);
        });
        document.getElementById('display-panel').innerHTML = `Prêt pour le niveau ${lvl === 'cycle3' ? '6ème' : 'Cycle 4'}.<br>Choisis un thème !`;
        document.getElementById('words-area').innerHTML = "";
        resetQuizUI();
    }

    function loadTheme(themeObj, btnElement, lvl) {
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active-theme'));
        btnElement.classList.add('active-theme');
        
        if (themeObj.title.includes("BREVET")) {
            currentThemeData = [
                ...FULL_DB['cycle4'].themes[0].data,
                ...FULL_DB['cycle4'].themes[1].data,
                ...FULL_DB['cycle4'].themes[2].data
            ];
            document.getElementById('words-area').innerHTML = "<em>Mode Brevet activé (150 mots). Clique sur DÉMARRER LE QUIZ pour t'entraîner sur tout le programme !</em>";
        } else {
            currentThemeData = themeObj.data;
            const area = document.getElementById('words-area');
            area.innerHTML = "";
            currentThemeData.forEach(item => {
                const div = document.createElement('div');
                div.className = 'word';
                div.innerText = item[0];
                div.onclick = () => {
                    // ESPACES AJOUTÉS AUTOUR DES DEUX POINTS
                    document.getElementById('display-panel').innerHTML = `<strong>${item[0]}</strong> &nbsp;:&nbsp; <span style="font-size:0.95em; font-weight:normal">${item[1]}</span>`;
                };
                area.appendChild(div);
            });
        }
        
        const display = document.getElementById('display-panel');
        display.style.borderBottomColor = btnElement.style.backgroundColor;
        display.innerHTML = `<strong>${themeObj.title}</strong>`;
        resetQuizUI();
    }

    function resetQuizUI() {
        clearInterval(timerInterval);
        gameActive = false; score = 0; timeLeft = 60;
        document.getElementById('score-ui').innerText = "   0";
        document.getElementById('timer-ui').innerText = "   60s";
        document.getElementById('quiz-input').value = "";
        document.getElementById('quiz-input').className = "";
        document.getElementById('quiz-input').disabled = true;
        document.getElementById('start-btn').style.display = "inline-block";
        document.getElementById('quiz-definition').innerText = "Lance le quiz pour t'entraîner !";
    }

    function startGame() {
    if(!currentThemeData.length) return alert("Choisis un thème d'abord !");
    
    // REINITIALISATION ICI
    gameActive = true;
    score = 0;
    timeLeft = 60;
    document.getElementById('score-ui').innerText = "   0";
    document.getElementById('timer-ui').innerText = "   60s";
    
    document.getElementById('start-btn').style.display = "none";
    document.getElementById('quiz-input').disabled = false;
    document.getElementById('quiz-input').focus();
    nextQuestion();

    // On efface un éventuel intervalle encore actif avant d'en créer un nouveau
    clearInterval(timerInterval); 
    timerInterval = setInterval(() => {
        timeLeft--;
        document.getElementById('timer-ui').innerText = "   " + timeLeft + "s";
        if(timeLeft <= 0) endGame();
    }, 1000);
}

    function nextQuestion() {
        const rand = Math.floor(Math.random() * currentThemeData.length);
        currentTarget = currentThemeData[rand][0].toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        document.getElementById('quiz-definition').innerHTML = currentThemeData[rand][1];
        document.getElementById('quiz-input').value = "";
        document.getElementById('quiz-input').className = "";
    }

    document.getElementById('quiz-input').addEventListener('input', (e) => {
        if(!gameActive) return;
        let val = e.target.value.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        if(val === currentTarget) {
            score++;
            document.getElementById('score-ui').innerText = "   " + score;
            e.target.className = "correct";
            setTimeout(nextQuestion, 400);
        }
    });

    function endGame() {
        clearInterval(timerInterval);
        gameActive = false;
        document.getElementById('quiz-input').disabled = true;
        document.getElementById('quiz-definition').innerHTML = `   <strong>TERMINÉ !</strong> Score final : ${score} points.`;
        document.getElementById('start-btn').style.display = "inline-block";
        document.getElementById('start-btn').innerText = "REESSAYER";
    }
</script>
</body>
</html>
