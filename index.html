<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Lexique SVT Coll√®ge - Sp√©cial Brevet</title>
    <style>
        :root {
            --dark: #273c75;
            --bg: #f1f2f6;
            --accent: #44bd32;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--bg); margin: 0; padding: 10px;
            display: flex; flex-direction: column; align-items: center;
            user-select: none; -webkit-tap-highlight-color: transparent;
        }

        h1 { margin: 10px 0; font-size: 1.2rem; color: var(--dark); text-align: center; text-transform: uppercase; letter-spacing: 1px; }

        #level-selector { display: flex; gap: 10px; margin-bottom: 15px; width: 100%; max-width: 600px; }
        .lvl-btn {
            flex: 1; padding: 12px 5px; border: 2px solid var(--dark); background: white;
            border-radius: 12px; cursor: pointer; font-weight: bold; color: var(--dark);
            font-size: 0.9rem; transition: all 0.2s;
        }
        .lvl-btn.active { background: var(--dark); color: white; transform: scale(1.05); }

        #theme-menu {
            display: grid; grid-template-columns: 1fr; gap: 8px;
            width: 100%; max-width: 800px; margin-bottom: 15px;
        }
        @media (min-width: 600px) { #theme-menu { grid-template-columns: 1fr 1fr; } }

        .nav-btn {
            padding: 12px 15px; border: none; border-radius: 10px;
            color: white; font-weight: 600; cursor: pointer;
            font-size: 0.85rem; line-height: 1.3; box-shadow: 0 4px 0 rgba(0,0,0,0.1);
            display: flex; align-items: center; justify-content: center; text-align: center;
            min-height: 60px;
        }
        .active-theme { outline: 3px solid var(--dark); outline-offset: 2px; position: relative; z-index: 10; }

        #display-panel {
            width: 95%; max-width: 800px; min-height: 120px;
            background: var(--dark); color: white; padding: 20px;
            border-radius: 20px; display: flex; align-items: center; justify-content: center;
            text-align: center; font-size: 1.1rem; margin-bottom: 20px;
            border-bottom: 6px solid #bdc3c7; line-height: 1.5; box-sizing: border-box;
        }

        #words-area {
            display: flex; flex-wrap: wrap; gap: 8px; justify-content: center;
            max-width: 1000px; margin-bottom: 30px;
        }
        .word {
            padding: 8px 14px; border-radius: 20px; font-size: 0.8rem;
            font-weight: 600; background: white; border: 1px solid #dcdde1; 
            cursor: pointer; color: var(--dark); transition: background 0.2s, transform 0.1s;
        }
        .word:active { background: #dcdde1; transform: scale(0.95); }

        #quiz-section {
            background: white; width: 95%; max-width: 500px; padding: 20px;
            border-radius: 20px; border: 3px solid var(--dark); text-align: center;
            box-shadow: 0 10px 25px rgba(0,0,0,0.05); margin-bottom: 40px;
        }
        .stats { display: flex; justify-content: space-between; font-weight: bold; margin-bottom: 15px; color: var(--dark); }
        #quiz-definition { font-style: italic; color: #555; min-height: 60px; margin-bottom: 15px; font-size: 1rem; }
        #quiz-input {
            padding: 12px; font-size: 16px; border: 2px solid #bdc3c7; border-radius: 10px; width: 85%;
            outline: none; text-align: center;
        }
        #quiz-input.correct { background-color: #d4edda; border-color: #27ae60; color: #155724; }
        .btn-action {
            margin-top: 15px; padding: 12px 25px; background: var(--dark); color: white;
            border: none; border-radius: 10px; cursor: pointer; font-weight: bold; font-size: 1rem;
        }
    </style>
</head>
<body>

    <h1>Lexique SVT Coll√®ge</h1>

    <div id="level-selector">
        <button class="lvl-btn" onclick="switchLevel('cycle3')">6√®me (Cycle 3)</button>
        <button class="lvl-btn" onclick="switchLevel('cycle4')">Cycle 4 (5e - 4e - 3e)</button>
    </div>

    <div id="theme-menu"></div>
    <div id="display-panel">S√©lectionne un niveau pour commencer.</div>
    <div id="words-area"></div>

    <section id="quiz-section">
        <div class="stats">
            <span id="timer-ui">‚è±Ô∏è 60s</span>
            <span id="score-ui">üß¨ 0</span>
        </div>
        <div id="quiz-definition">Pr√™t pour l'entra√Ænement ?</div>
        <input type="text" id="quiz-input" placeholder="√âcris le mot ici..." disabled autocomplete="off" spellcheck="false">
        <br>
        <button class="btn-action" id="start-btn" onclick="startGame()">D√âMARRER LE QUIZ</button>
    </section>

<script>
    const FULL_DB = {
        'cycle3': {
            colors: ['#44bd32'],
            themes: [
                { title: "Bases de la SVT (6√®me)", data: [
                    ["Cellule", "Unit√© de base de tous les √™tres vivants."],
                    ["Unicellulaire", "√ätre vivant form√© d'une seule cellule."],
                    ["Pluricellulaire", "√ätre vivant form√© de plusieurs cellules."],
                    ["Biodiversit√©", "Diversit√© des esp√®ces vivantes dans un milieu."],
                    ["Esp√®ce", "√ätres vivants qui se ressemblent et peuvent se reproduire."],
                    ["Mati√®re organique", "Mati√®re produite par les √™tres vivants."],
                    ["Mati√®re min√©rale", "Mati√®re non vivante (eau, roche, air)."],
                    ["D√©composeur", "Organisme qui transforme la mati√®re organique en min√©rale."],
                    ["Reproduction", "Fonction permettant d'avoir une descendance."],
                    ["Ovule", "Cellule reproductrice femelle."],
                    ["Spermatozo√Øde", "Cellule reproductrice m√¢le."],
                    ["F√©condation", "Union d'un ovule et d'un spermatozo√Øde."],
                    ["D√©veloppement", "Ensemble des transformations de la naissance √† l'√¢ge adulte."],
                    ["M√©tamorphose", "Transformation brutale de la larve en adulte."],
                    ["Graine", "Partie de la plante permettant sa reproduction."],
                    ["Germination", "D√©but du d√©veloppement d'une graine."],
                    ["Besoin nutritif", "Ce dont un √™tre vivant a besoin pour grandir."],
                    ["Plan√®te Terre", "Seule plan√®te connue abritant la vie."],
                    ["Syst√®me solaire", "Ensemble des plan√®tes tournant autour du Soleil."],
                    ["Paysage", "Vue d'ensemble d'une portion de territoire."],
                    ["√ârosion", "Usure des roches par l'eau et le vent."],
                    ["Microscope", "Instrument pour observer le tr√®s petit."],
                    ["Loupe", "Instrument pour grossir une observation."]
                ]}
            ]
        },
        'cycle4': {
            colors: ['#e1b12c', '#4cd137', '#e84118', '#2f3542'],
            themes: [
                { title: "T1 : Terre et Environnement", data: [
                    ["S√©isme", "Tremblement de terre caus√© par la rupture brutale des roches en profondeur."], ["√âpicentre", "Point de la surface terrestre o√π le s√©isme est le plus intense."], ["Foyer", "Lieu en profondeur o√π d√©bute la rupture des roches √† l'origine du s√©isme."], ["Magnitude", "Mesure de l'√©nergie lib√©r√©e par un s√©isme (√âchelle de Richter)."], ["Sismogramme", "Enregistrement des ondes sismiques r√©alis√© par un sismographe."], ["Volcanisme", "Arriv√©e de magma en surface formant des √©difices volcaniques."], ["Magma", "Roche fondue situ√©e en profondeur, contenant du gaz."], ["Lave", "Magma d√©barrass√© de son gaz qui coule √† la surface."], ["Chambre magmatique", "R√©servoir de magma situ√© √† plusieurs kilom√®tres de profondeur."], ["Lithosph√®re", "Couche rigide de la Terre form√©e de la cro√ªte et du manteau sup√©rieur."], ["Asth√©nosph√®re", "Couche moins rigide du manteau situ√©e sous la lithosph√®re."], ["Tectonique des plaques", "Th√©orie d√©crivant les mouvements des plaques lithosph√©riques."], ["Dorsale", "Cha√Æne de montagnes sous-marine, zone d'√©cartement des plaques."], ["Subduction", "Enfouissement d'une plaque oc√©anique sous une autre plaque."], ["Collision", "Rencontre entre deux plaques continentales formant des montagnes."], ["Accr√©tion", "Formation de nouvelle cro√ªte oc√©anique au niveau des dorsales."], ["Fosse oc√©anique", "D√©pression profonde et allong√©e, zone de subduction."], ["Risque", "Possibilit√© qu'un al√©a (danger naturel) touche des enjeux (humains)."], ["Al√©a", "Probabilit√© qu'un ph√©nom√®ne naturel dangereux survienne."], ["Enjeu", "Personnes ou biens susceptibles d'√™tre touch√©s par un al√©a."], ["M√©t√©orologie", "√âtude du temps qu'il fait √† court terme (temp√©rature, vent)."], ["Climat", "Moyenne des conditions m√©t√©orologiques sur une longue p√©riode (30 ans)."], ["Effet de serre", "Ph√©nom√®ne naturel retenant la chaleur solaire sur Terre."], ["Atmosph√®re", "Couche de gaz entourant la Terre."], ["Hydrosph√®re", "Ensemble de l'eau pr√©sente sur Terre (liquide, solide, gaz)."], ["√ârosion", "Usure et transport des roches par l'eau, le vent ou la glace."], ["S√©dimentation", "D√©p√¥t de particules transport√©es (s√©diments) au fond de l'eau."], ["Fossile", "Reste ou trace d'√™tre vivant conserv√© dans une roche s√©dimentaire."], ["Affleurement", "Endroit o√π les roches du sous-sol sont visibles en surface."], ["Ressource renouvelable", "Ressource qui se r√©g√©n√®re √† l'√©chelle humaine (vent, soleil, bois)."], ["√ânergie fossile", "√ânergie non renouvelable issue de la transformation de mati√®re organique (p√©trole)."], ["Nappe phr√©atique", "R√©serve d'eau souterraine contenue dans les roches."], ["√âcosyst√®me", "Ensemble form√© par un milieu de vie et les √™tres vivants qui y habitent."], ["Biodiversit√©", "Diversit√© des √™tres vivants (esp√®ces, g√®nes, √©cosyst√®mes)."], ["D√©veloppement durable", "D√©veloppement r√©pondant aux besoins actuels sans compromettre l'avenir."], ["Pollution", "D√©gradation de l'environnement par des substances nocives."], ["Recyclage", "Traitement des d√©chets pour produire de nouveaux mat√©riaux."], ["Courant marin", "D√©placement d'eau de mer r√©gulier, continu et cyclique."], ["Pression atmosph√©rique", "Poids de l'air, mesur√© en Pascal ou en Bar."], ["Anticyclone", "Zone de haute pression atmosph√©rique (souvent synonyme de beau temps)."], ["D√©pression", "Zone de basse pression atmosph√©rique (souvent synonyme de mauvais temps)."], ["Pr√©cipitations", "Eau qui tombe des nuages (pluie, neige, gr√™le)."], ["An√©mom√®tre", "Instrument servant √† mesurer la vitesse du vent."], ["R√©chauffement climatique", "Augmentation globale des temp√©ratures due aux activit√©s humaines."], ["Glacier", "Masse de glace persistante form√©e par l'accumulation de neige."], ["Cycle de l'eau", "Circulation perp√©tuelle de l'eau entre les diff√©rents r√©servoirs terrestres."], ["Perm√©abilit√©", "Capacit√© d'une roche √† laisser passer l'eau."], ["Argile", "Roche s√©dimentaire imperm√©able."], ["Calcaire", "Roche s√©dimentaire souvent riche en fossiles."], ["Biomasse", "Masse totale des √™tres vivants dans un √©cosyst√®me."]
                ]},
                { title: "T2 : Le Vivant et son √©volution", data: [
                    ["Cellule", "Unit√© microscopique structurelle et fonctionnelle de tout √™tre vivant."], ["Membrane", "Enveloppe qui d√©limite la cellule."], ["Cytoplasme", "Gel√©e interne de la cellule contenant les organites."], ["Noyau", "Partie de la cellule contenant l'information g√©n√©tique (ADN)."], ["Unicellulaire", "√ätre vivant constitu√© d'une seule cellule."], ["Pluricellulaire", "√ätre vivant constitu√© de plusieurs cellules."], ["Esp√®ce", "Groupe d'√™tres vivants se ressemblant et pouvant se reproduire entre eux."], ["√âvolution", "Transformation des esp√®ces au cours du temps (g√©n√©rations)."], ["S√©lection naturelle", "Avantage reproductif des individus les mieux adapt√©s √† leur milieu."], ["Anc√™tre commun", "Organisme hypoth√©tique dont descendent plusieurs esp√®ces actuelles."], ["Arbre de parent√©", "Sch√©ma montrant les liens de parent√© entre les esp√®ces (phylog√©nie)."], ["Caract√®re", "Trait physique ou physiologique d'un individu (ex : couleur des yeux)."], ["H√©r√©ditaire", "Qui se transmet des parents aux descendants."], ["ADN", "Mol√©cule en forme de double h√©lice portant l'information g√©n√©tique."], ["Chromosome", "Filament d'ADN visible lors de la division cellulaire."], ["G√®ne", "Portion d'ADN portant l'information d'un caract√®re pr√©cis."], ["All√®le", "Version possible d'un g√®ne (ex : all√®le bleu ou marron)."], ["Caryotype", "Classement ordonn√© des chromosomes d'une cellule."], ["G√©notype", "Ensemble des all√®les d'un individu."], ["Ph√©notype", "Ensemble des caract√®res observables d'un individu."], ["Mutation", "Modification accidentelle de la s√©quence d'ADN."], ["Mitose", "Division cellulaire conforme (2 cellules identiques)."], ["M√©iose", "Division cellulaire produisant les gam√®tes (r√©duction du nombre de chromosomes)."], ["Gam√®te", "Cellule reproductrice (spermatozo√Øde ou ovule)."], ["F√©condation", "Fusion d'un spermatozo√Øde et d'un ovule."], ["Cellule-≈ìuf", "Premi√®re cellule d'un nouvel individu apr√®s f√©condation."], ["Reproduction sexu√©e", "Reproduction n√©cessitant deux parents et des gam√®tes."], ["Reproduction asexu√©e", "Reproduction sans gam√®tes (bouturage, division)."], ["Pubert√©", "P√©riode de transition de l'enfance √† l'√¢ge adulte (capacit√© reproductrice)."], ["Hormone", "Messager chimique transport√© par le sang."], ["Ovaire", "Organe producteur des ovules et d'hormones f√©minines."], ["Testicule", "Organe producteur des spermatozo√Ødes et de testost√©rone."], ["Contraception", "M√©thodes temporaires pour √©viter une grossesse."], ["Placenta", "Organe d'√©changes entre la m√®re et le f≈ìtus."], ["Photosynth√®se", "Production de mati√®re organique par les plantes √† la lumi√®re."], ["Chlorophylle", "Pigment vert des plantes captant l'√©nergie lumineuse."], ["Stomate", "Orifice sur les feuilles permettant les √©changes gazeux."], ["S√®ve brute", "Eau et sels min√©raux montant des racines."], ["S√®ve √©labor√©e", "Eau et mati√®re organique (sucre) circulant dans la plante."], ["Symbiose", "Association durable et b√©n√©fique entre deux √™tres vivants."], ["Mycorhize", "Symbiose entre un champignon et les racines d'une plante."], ["Mati√®re organique", "Mati√®re produite par les vivants (riche en carbone)."], ["Mati√®re min√©rale", "Mati√®re inerte (eau, roches, sels min√©raux)."], ["D√©composeur", "Organisme qui transforme la mati√®re organique en mati√®re min√©rale."], ["R√©seau trophique", "Ensemble des cha√Ænes alimentaires reli√©es entre elles."], ["Producteur primaire", "V√©g√©tal chlorophyllien premier maillon de la cha√Æne alimentaire."], ["Crise biologique", "Extinction massive d'esp√®ces sur une courte p√©riode g√©ologique."], ["Trilobite", "Arthropode marin fossile fr√©quent dans l'√®re Primaire."], ["Ammonite", "Mollusque fossile √† coquille enroul√©e fr√©quent dans l'√®re Secondaire."], ["OGM", "Organisme G√©n√©tiquement Modifi√©."]
                ]},
                { title: "T3 : Le Corps Humain et Sant√©", data: [
                    ["Nutriment", "√âl√©ment soluble issu de la digestion des aliments."], ["Enzyme", "Substance chimique acc√©l√©rant la digestion (coupe les mol√©cules)."], ["Digestion", "Transformation des aliments en nutriments."], ["Absorption", "Passage des nutriments de l'intestin vers le sang."], ["Intestin gr√™le", "Lieu principal de la digestion et de l'absorption."], ["Microbiote", "Ensemble des micro-organismes vivant dans notre corps (bact√©ries)."], ["Villosit√©", "Repli microscopique de l'intestin augmentant la surface d'absorption."], ["Respiration", "√âchanges gazeux (O2 / CO2) pour produire de l'√©nergie."], ["Alv√©ole pulmonaire", "Petit sac d'air o√π se font les √©changes gazeux avec le sang."], ["Ventilation", "Mouvements respiratoires (inspiration/expiration)."], ["C≈ìur", "Muscle creux propulsant le sang dans l'organisme."], ["Art√®re", "Vaisseau sanguin qui part du c≈ìur (haute pression)."], ["Veine", "Vaisseau sanguin qui revient au c≈ìur (basse pression)."], ["Capillaire", "Vaisseau tr√®s fin lieu des √©changes avec les organes."], ["Plasma", "Partie liquide du sang transportant nutriments et d√©chets."], ["H√©matie", "Globule rouge transportant le dioxyg√®ne."], ["Leucocyte", "Globule blanc d√©fendant l'organisme."], ["Syst√®me nerveux", "Ensemble des nerfs et centres nerveux g√©rant les informations."], ["Neurone", "Cellule sp√©cialis√©e du syst√®me nerveux."], ["Synapse", "Zone de connexion chimique entre deux neurones."], ["Neurotransmetteur", "Messager chimique traversant la synapse."], ["Nerf", "C√¢ble form√© de fibres nerveuses reliant les organes aux centres nerveux."], ["Cerveau", "Centre nerveux principal situ√© dans le cr√¢ne."], ["R√©cepteur sensoriel", "Organe captant une stimulation (≈ìil, oreille, peau...)."], ["Aire c√©r√©brale", "Zone du cerveau sp√©cialis√©e dans une fonction pr√©cise."], ["Micro-organisme", "√ätre vivant invisible √† l'≈ìil nu (microbe)."], ["Pathog√®ne", "Qui peut provoquer une maladie."], ["Bact√©rie", "Micro-organisme unicellulaire sans noyau (procaryote)."], ["Virus", "Particule infectieuse n√©cessitant une cellule pour se multiplier."], ["Contamination", "P√©n√©tration des micro-organismes dans le corps."], ["Infection", "Multiplication des micro-organismes dans le corps."], ["Asepsie", "M√©thode pr√©ventive pour √©viter tout contact avec des microbes (st√©rile)."], ["Antisepsie", "M√©thode pour d√©truire les microbes sur une plaie (d√©sinfectant)."], ["Syst√®me immunitaire", "Ensemble des d√©fenses de l'organisme."], ["Phagocytose", "Digestion rapide des microbes par certains leucocytes."], ["Antig√®ne", "Mol√©cule √©trang√®re d√©clenchant une r√©action immunitaire."], ["Anticorps", "Mol√©cule en Y produite pour neutraliser un antig√®ne pr√©cis."], ["Lymphocyte B", "Leucocyte producteur d'anticorps."], ["Lymphocyte T", "Leucocyte destructeur de cellules infect√©es (baiser de la mort)."], ["M√©moire immunitaire", "Capacit√© du corps √† r√©agir plus vite lors d'un second contact."], ["Vaccination", "Injection d'antig√®nes inoffensifs pour cr√©er une m√©moire immunitaire."], ["Antibiotique", "M√©dicament tuant les bact√©ries (inefficace sur les virus)."], ["Dopage", "Utilisation de substances interdites pour am√©liorer les performances."], ["Addiction", "D√©pendance nocive √† une substance ou une activit√©."], ["Bruit", "Son fort ou prolong√© pouvant endommager l'oreille."], ["Syst√®me cardiovasculaire", "Ensemble c≈ìur et vaisseaux sanguins."], ["Glucide", "Sucre, principale source d'√©nergie rapide."], ["Lipide", "Gras, source d'√©nergie de r√©serve et constituant cellulaire."], ["Prot√©ine", "Mol√©cule b√¢tisseuse des muscles et tissus."], ["IMC", "Indice de Masse Corporelle (poids / taille¬≤)."]
                ]},
                { title: "üéì MODE BREVET (Tout m√©lang√©)", data: [] }
            ]
        }
    };

    let currentThemeData = [];
    let gameActive = false;
    let timerInterval, score = 0, timeLeft = 60, currentTarget = "";

    function switchLevel(lvl) {
        document.querySelectorAll('.lvl-btn').forEach(b => b.classList.remove('active'));
        event.target.classList.add('active');
        const menu = document.getElementById('theme-menu');
        menu.innerHTML = "";
        
        FULL_DB[lvl].themes.forEach((t, idx) => {
            const btn = document.createElement('button');
            btn.className = 'nav-btn';
            btn.style.backgroundColor = FULL_DB[lvl].colors[idx] || '#2c3e50';
            btn.innerHTML = t.title;
            btn.onclick = (e) => loadTheme(t, e.target, lvl);
            menu.appendChild(btn);
        });
        document.getElementById('display-panel').innerHTML = `Pr√™t pour le niveau ${lvl === 'cycle3' ? '6√®me' : 'Cycle 4'}.<br>Choisis un th√®me !`;
        document.getElementById('words-area').innerHTML = "";
        resetQuizUI();
    }

    function loadTheme(themeObj, btnElement, lvl) {
        document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active-theme'));
        btnElement.classList.add('active-theme');
        
        if (themeObj.title.includes("BREVET")) {
            currentThemeData = [
                ...FULL_DB['cycle4'].themes[0].data,
                ...FULL_DB['cycle4'].themes[1].data,
                ...FULL_DB['cycle4'].themes[2].data
            ];
            document.getElementById('words-area').innerHTML = "<em>Mode Brevet activ√© (150 mots). Clique sur D√âMARRER LE QUIZ pour t'entra√Æner sur tout le programme !</em>";
        } else {
            currentThemeData = themeObj.data;
            const area = document.getElementById('words-area');
            area.innerHTML = "";
            currentThemeData.forEach(item => {
                const div = document.createElement('div');
                div.className = 'word';
                div.innerText = item[0];
                div.onclick = () => {
                    // ESPACES AJOUT√âS AUTOUR DES DEUX POINTS
                    document.getElementById('display-panel').innerHTML = `<strong>${item[0]}</strong> &nbsp;:&nbsp; <span style="font-size:0.95em; font-weight:normal">${item[1]}</span>`;
                };
                area.appendChild(div);
            });
        }
        
        const display = document.getElementById('display-panel');
        display.style.borderBottomColor = btnElement.style.backgroundColor;
        display.innerHTML = `<strong>${themeObj.title}</strong>`;
        resetQuizUI();
    }

    function resetQuizUI() {
        clearInterval(timerInterval);
        gameActive = false; score = 0; timeLeft = 60;
        document.getElementById('score-ui').innerText = "üß¨ 0";
        document.getElementById('timer-ui').innerText = "‚è±Ô∏è 60s";
        document.getElementById('quiz-input').value = "";
        document.getElementById('quiz-input').className = "";
        document.getElementById('quiz-input').disabled = true;
        document.getElementById('start-btn').style.display = "inline-block";
        document.getElementById('quiz-definition').innerText = "Lance le quiz pour t'entra√Æner !";
    }

    function startGame() {
    if(!currentThemeData.length) return alert("Choisis un th√®me d'abord !");
    
    // REINITIALISATION ICI
    gameActive = true;
    score = 0;
    timeLeft = 60;
    document.getElementById('score-ui').innerText = "üß¨ 0";
    document.getElementById('timer-ui').innerText = "‚è±Ô∏è 60s";
    
    document.getElementById('start-btn').style.display = "none";
    document.getElementById('quiz-input').disabled = false;
    document.getElementById('quiz-input').focus();
    nextQuestion();

    // On efface un √©ventuel intervalle encore actif avant d'en cr√©er un nouveau
    clearInterval(timerInterval); 
    timerInterval = setInterval(() => {
        timeLeft--;
        document.getElementById('timer-ui').innerText = "‚è±Ô∏è " + timeLeft + "s";
        if(timeLeft <= 0) endGame();
    }, 1000);
}

    function nextQuestion() {
        const rand = Math.floor(Math.random() * currentThemeData.length);
        currentTarget = currentThemeData[rand][0].toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        document.getElementById('quiz-definition').innerHTML = currentThemeData[rand][1];
        document.getElementById('quiz-input').value = "";
        document.getElementById('quiz-input').className = "";
    }

    document.getElementById('quiz-input').addEventListener('input', (e) => {
        if(!gameActive) return;
        let val = e.target.value.toLowerCase().trim().normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        if(val === currentTarget) {
            score++;
            document.getElementById('score-ui').innerText = "üß¨ " + score;
            e.target.className = "correct";
            setTimeout(nextQuestion, 400);
        }
    });

    function endGame() {
        clearInterval(timerInterval);
        gameActive = false;
        document.getElementById('quiz-input').disabled = true;
        document.getElementById('quiz-definition').innerHTML = `üèÅ <strong>TERMIN√â !</strong> Score final : ${score} points.`;
        document.getElementById('start-btn').style.display = "inline-block";
        document.getElementById('start-btn').innerText = "REESSAYER";
    }
</script>
</body>
</html>
